<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Adjsaver</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-datepicker/css/bootstrap-datepicker.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Medilab - v2.1.1
  * Template URL: https://bootstrapmade.com/medilab-free-medical-bootstrap-theme/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Top Bar ======= -->
  <div id="topbar" class="d-none d-lg-flex align-items-center fixed-top">
    <div class="container d-flex">
    </div>
  </div>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">

      <h1 class="logo mr-auto"><a href="index.html">Adjsaver by Neel Kurupassery</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo mr-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav class="nav-menu d-none d-lg-block">
        <ul>
          <li class="active"><a href="#about">The App</a></li>
          <li><a href="index.html">About</a></li>
          <li><a href="index2.html">Plain Mode</a></li>
         

        </ul>
      </nav><!-- .nav-menu -->


    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">
    <div class="container">
      <h1>Welcome to Adjsaver</h1>
      <a href="#about" class="btn-get-started scrollto">Get Started</a>
    </div>
  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= Why Us Section ======= -->
    <section id="why-us" class="why-us">
      <div class="container">

        <div class="row">
          <div class="col-lg-4 d-flex align-items-stretch">
            <div class="content">
              <h3>What's our Motivation</h3>
              <p>
                A single visit to a clinic in underserved communities may lead to failure as the patient finds out about high costs or overcrowding of the hospital. By creating a model that assumes visiting multiple hospitals, we have developed an app that can provide tangible benefits. 
              </p>
              <div class="text-center">
              </div>
            </div>
          </div>
          <div class="col-lg-8 d-flex align-items-stretch">
            <div class="icon-boxes d-flex flex-column justify-content-center">
              <div class="row">
                <div class="col-xl-4 d-flex align-items-stretch">
                  <div class="icon-box mt-4 mt-xl-0">
                    <i class="bx bx-receipt"></i>
                    <h4></h4>
                    <p>With the complexity of cost, we assume the user will have to discuss with each facility individually.</p>
                  </div>
                </div>
                <div class="col-xl-4 d-flex align-items-stretch">
                  <div class="icon-box mt-4 mt-xl-0">
                    <i class="bx bx-cube-alt"></i>
                    <h4>How we built it</h4>
                    <p>We built it using Javascript, Bootstrap, and Healthcare Locator SDK. A simple format that runs on any device. </p>
                  </div>
                </div>
                <div class="col-xl-4 d-flex align-items-stretch">
                  <div class="icon-box mt-4 mt-xl-0">
                    <i class="bx bx-images"></i>
                    <h4>What's next</h4>
                    <p>Further benefits would be to optimize pathing based on real-time road data, possible with Google Maps and Waze. </p>
                  </div>
                </div>
              </div>
            </div><!-- End .content-->
          </div>
        </div>

      </div>
    </section><!-- End Why Us Section -->

    <!-- ======= About Section ======= -->
    <section id="about" class="about">
      <div class="container-fluid">

        <div class="row">
          <div class="col-xl-5 col-lg-6 video-box d-flex justify-content-center align-items-stretch">
            <a href="https://www.youtube.com/watch?v=jDDaplaOz7Q" class="venobox play-btn mb-4" data-vbtype="video" data-autoplay="true"></a>
          </div>

          <div class="col-xl-7 col-lg-6 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
            State: <input id="Input1" name="Input1" type="text" value="NC" /> <br>
Country: <input id="Input2" name="Input2" type="text" value="US" /> <br>
<p>Consider visiting the following pairings of facilities in tandem:</p>
<p id="myText"><b>Generate Results</b></p>
<script src="distance.js"></script>
<script>
document.getElementById("myText").addEventListener("click", myFunction);
document.getElementById("Input1")
    .addEventListener('keyup', function(event) {
        if (event.code === 'Enter')
        {
            /* event.preventDefault(); */
            myFunction();
        }
    });
document.getElementById("Input2")
    .addEventListener('keyup', function(event) {
        if (event.code === 'Enter')
        {
            /* event.preventDefault(); */
            myFunction();
        }
    });
function myFunction() {
var url = "https://api.healthcarelocator.com/api/graphql/query?subscription-key=3000a9e8aed18461";

var xhr = new XMLHttpRequest();
xhr.open("POST", url);
xhr.setRequestHeader("Accept-Encoding", "gzip, deflate, br");
xhr.setRequestHeader("Content-Type", "application/json");
xhr.setRequestHeader("Accept", "application/json");
xhr.setRequestHeader("Connection", "keep-alive");
xhr.setRequestHeader("DNT", "1");
xhr.setRequestHeader("Origin", "https://api.healthcarelocator.com");
let data2; 
xhr.onreadystatechange = function () {
   if (xhr.readyState === 4) {
      console.log(xhr.status);
      console.log(xhr.responseText);
      a = JSON.parse(xhr.responseText);
      let text; 
      let lonA = 0;
      let latA = 0; 
      let aa = [];
      for (let i = 0; i < a.data.activities.length; i++) {
	if (a.data.activities[i].activity.workplace.address.location.lat === latA && a.data.activities[i].activity.workplace.address.location.lon === lonA) {}
	else {
        text += a.data.activities[i].activity.workplace.address.location.lat + " " +           a.data.activities[i].activity.workplace.address.location.lon + "<br>"; 
	latA = a.data.activities[i].activity.workplace.address.location.lat;
	lonA = a.data.activities[i].activity.workplace.address.location.lon;
	name = a.data.activities[i].activity.workplace.name;
	add1 = a.data.activities[i].activity.workplace.address.longLabel; 
	add2 = a.data.activities[i].activity.workplace.address.county.label; 
	add3 = a.data.activities[i].activity.workplace.address.country; 
	add4 = a.data.activities[i].activity.workplace.address.postalCode; 
        aa.push([latA, lonA, name, add1, add2, add3, add4]);} 
      }
      /* if(text){document.getElementById("myText").innerHTML = aa}; */
      console.log(distll(aa[0][0],aa[0][1],aa[1][0],aa[1][1],'T'));
      let aal = 0; 
      if (aa.length >= 10) {aal = 10;} 
      else {aal = aa.length}; 
	let ans = [];
      for (let i = 0; i < aal; i++) {
	for (let j = 0; j < aal; j++) {
	if (i === j) { ans.push(Infinity);}
	else {ans.push(distll(aa[i][0],aa[i][1],aa[j][0],aa[j][1],'T'))};
	}}

	/* Adjacency Matrix */
	let adjMat = matrixC(ans,10);
	let minR = [Infinity,0,0];
	let minM = [];
	let text2 = "<ol type=\"1\">";    
	console.log(adjMat); 
	for (let i = 0; i < aal; i++) {
		for (let j = 0; j < aal; j++) {
			if (i === j) {}
			else {if (adjMat[i][j] < minR[0]) {minR = [adjMat[i][j], i, j];}}  
	}
	minM.push(minR);
	text2 += "<li>Miles apart: " + minR[0] + "<br>" + "Location 1: " + aa[minR[1]][2] + "<br>"
		+  aa[minR[1]][3]  + "<br>" +  aa[minR[1]][4]  + " " +  aa[minR[1]][5]  + " " +  aa[minR[1]][6] + "<br>" 
		+ "Location 2: " + aa[minR[2]][2] + "<br>"
		+  aa[minR[2]][3]  + "<br>" +  aa[minR[2]][4]  + " " +  aa[minR[2]][5]  + " " +  aa[minR[2]][6] + "<br><br></li>" 
	minR = [Infinity,0,0]; 
	}
	text2 += "</ol>"; 
	if(text){document.getElementById("myText").innerHTML = text2};
	console.log(text2); 
   }};
var county = document.getElementsByName("Input1")[0].value;
var country = document.getElementsByName("Input2")[0].value;
var data = '{"query":"query{activities (first:1000 offset:0 country:\\"' + country + '\\" county:\\"'+ county + '\\" ) {distance  relevance  activity{id,title{code,label},role{code,label},workplace{name,address{longLabel,county{label},country,postalCode,location{lat lon}}}} }}"}';

xhr.send(data);
}
</script>


          </div>
        </div>

      </div>
    </section><!-- End About Section -->

    <!-- ======= Counts Section ======= -->
    <section id="counts" class="counts">
      <div class="container">

        <div class="row">

          <div class="col-lg-3 col-md-6">
            <div class="count-box">
              <i class="icofont-doctor-alt"></i>
              <span data-toggle="counter-up">1</span>
              <p>Queries</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mt-5 mt-md-0">
            <div class="count-box">
              <i class="icofont-patient-bed"></i>
              <span data-toggle="counter-up">1000</span>
              <p>Results</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mt-5 mt-lg-0">
            <div class="count-box">
              <i class="icofont-laboratory"></i>
              <span data-toggle="counter-up">100</span>
              <p>Size of Adjacency Matrix</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mt-5 mt-lg-0">
            <div class="count-box">
              <i class="icofont-award"></i>
              <span data-toggle="counter-up">10</span>
              <p>Final Results</p>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Counts Section -->

    <!-- ======= Services Section ======= -->
    <section id="services" class="services">
      <div class="container">

        <div class="section-title">
          <h2>Future Improvements</h2>
          <p>What could be added?</p>
        </div>

        <div class="row">
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch">
            <div class="icon-box">
              <div class="icon"><i class="icofont-heart-beat"></i></div>
              <h4><a href="">Complex Algorithms</a></h4>
              <p>Now that there is a framework which creates an adjacency matrix, more complex graph theory algorithms can be used to create greater results, such as routes through greater groupings, or the shortest path through the ten closest facilities.</p>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-md-0">
            <div class="icon-box">
              <div class="icon"><i class="icofont-drug"></i></div>
              <h4><a href="">Google Maps / Waze Integration</a></h4>
              <p>By integrating road conditions, users will have a better estimate of the overall time expenditure to reach their location.</p>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-lg-0">
            <div class="icon-box">
              <div class="icon"><i class="icofont-dna-alt-2"></i></div>
              <h4><a href="">Greater User Input</a></h4>
              <p>Further fields can allow users to specify any of the attributes for the IQVIA Healthcare Locator SDK</p>
            </div>
          </div>
          </div>

        </div>

      </div>
    </section><!-- End Services Section -->

    
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/medilab-free-medical-bootstrap-theme/ -->
          Template Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
      </div>
      <div class="social-links text-center text-md-right pt-3 pt-md-0">
        <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>